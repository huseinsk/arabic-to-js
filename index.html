<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>محول عربي → كود (النسخة الأقوى)</title>
<style>
  :root{
    --bg:#0b1020;
    --card:#111a33;
    --text:#e5e7eb;
    --muted:#94a3b8;
    --accent:#60a5fa;
    --accent2:#22c55e;
    --danger:#f43f5e;
  }
  body{
    margin:0;
    font-family: Arial, sans-serif;
    background: var(--bg);
    color: var(--text);
    direction: rtl;
  }
  .container{
    max-width: 1100px;
    margin:auto;
    padding: 20px;
  }
  h1{
    text-align:center;
    margin: 15px 0;
  }
  .card{
    background: var(--card);
    border-radius: 18px;
    padding: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.4);
    margin: 20px 0;
  }
  textarea{
    width:100%;
    height:120px;
    background:#0a1228;
    border:1px solid #223152;
    color: var(--text);
    border-radius: 12px;
    padding: 12px;
    resize: vertical;
  }
  select, button, input{
    padding: 10px 14px;
    border-radius: 12px;
    border: none;
    background: var(--accent);
    color: #fff;
    cursor:pointer;
    font-weight: bold;
  }
  button{
    margin-left: 10px;
  }
  pre{
    background:#0a1228;
    border:1px solid #223152;
    border-radius: 12px;
    padding: 15px;
    overflow-x:auto;
  }
  .row{
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    align-items:center;
    margin-top:10px;
  }
  .badge{
    background: #1f2a44;
    border: 1px solid #2b3a6a;
    padding: 6px 10px;
    border-radius: 999px;
    color: var(--muted);
    font-size: 12px;
  }
  .right{
    text-align:right;
  }
  .tabs{
    display:flex;
    gap:10px;
    flex-wrap:wrap;
  }
  .tab{
    padding: 10px 14px;
    border-radius: 12px;
    background:#223152;
    cursor:pointer;
  }
  .tab.active{
    background: var(--accent);
  }
  .hidden{
    display:none;
  }
  .flex{
    display:flex;
    gap:10px;
    flex-wrap:wrap;
  }
</style>
</head>
<body>

<div class="container">
  <h1>محول عربي → كود (النسخة الأقوى)</h1>

  <div class="card">
    <div class="tabs">
      <div class="tab active" onclick="showTab('convert')">تحويل</div>
      <div class="tab" onclick="showTab('templates')">قائمة الأوامر</div>
      <div class="tab" onclick="showTab('download')">تنزيل</div>
    </div>

    <!-- TAB 1: Convert -->
    <div id="convert" class="tab-content">
      <div class="row">
        <span class="badge">أكتب الأمر بالعربي</span>
        <span class="badge">اختر اللغة</span>
        <span class="badge">اختر نوع التحويل (عام/HTML/CSS/DOM/API/SQL)</span>
      </div>

      <textarea id="input" placeholder="مثال: اكتب 'مرحبا'"></textarea>

      <div class="row">
        <select id="mode">
          <option value="general">عام</option>
          <option value="html">HTML</option>
          <option value="css">CSS</option>
          <option value="dom">DOM</option>
          <option value="api">API</option>
          <option value="sql">SQL</option>
        </select>

        <select id="language">
          <option value="js">JavaScript</option>
          <option value="python">Python</option>
          <option value="php">PHP</option>
          <option value="java">Java</option>
          <option value="csharp">C#</option>
          <option value="cpp">C++</option>
          <option value="ruby">Ruby</option>
          <option value="go">Go</option>
        </select>

        <button onclick="convert()">حوّل الآن</button>
      </div>
    </div>

    <!-- TAB 2: Templates -->
    <div id="templates" class="tab-content hidden">
      <h3>قائمة الأوامر الجاهزة</h3>
      <div class="flex">
        <button onclick="setTemplate('اطبع \"مرحبا\"')">طباعة</button>
        <button onclick="setTemplate('عرف متغير x يساوي 5')">متغير</button>
        <button onclick="setTemplate('كرر 10 مرات')">حلقة</button>
        <button onclick="setTemplate('انشئ صفحة HTML بها عنوان')">HTML</button>
        <button onclick="setTemplate('سوي زر واضغط عليه يغير النص')">DOM</button>
        <button onclick="setTemplate('اطلب بيانات من https://api.example.com')">API</button>
        <button onclick="setTemplate('انشئ جدول users في SQL')">SQL</button>
      </div>
    </div>

    <!-- TAB 3: Download -->
    <div id="download" class="tab-content hidden">
      <h3>تنزيل الكود</h3>
      <p>بعد التحويل اضغط زر تنزيل لتحميل الكود كملف.</p>
      <div class="row">
        <input id="filename" placeholder="اسم الملف (مثال: code.js)" />
        <button onclick="downloadCode()">تنزيل</button>
      </div>
    </div>

  </div>

  <div class="card">
    <h2>الكود الناتج</h2>
    <pre id="output">لا يوجد كود بعد</pre>
  </div>
</div>

<script>
function showTab(id){
  document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
  document.getElementById(id).classList.remove('hidden');

  document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));
  document.querySelector(`[onclick="showTab('${id}')"]`).classList.add('active');
}

function setTemplate(text){
  document.getElementById('input').value = text;
  showTab('convert');
}

function downloadCode(){
  const code = document.getElementById('output').innerText;
  const filename = document.getElementById('filename').value || 'code.txt';
  const blob = new Blob([code], { type: "text/plain" });
  const link = document.createElement("a");
  link.href = URL.createObjectURL(blob);
  link.download = filename;
  link.click();
}

function convert(){
  const input = document.getElementById("input").value.trim();
  const lang = document.getElementById("language").value;
  const mode = document.getElementById("mode").value;

  // عام (print, variable, loop)
  if(mode === "general"){
    if (/^(اطبع|اكتب|عرض|طباعة|شوف)\s+(.+)/.test(input)){
      const text = input.replace(/^(اطبع|اكتب|عرض|طباعة|شوف)\s+/, "");
      return document.getElementById("output").innerText = generate("print", lang, text);
    }

    if(/(عرف|انشئ|سوي) متغير (.+) يساوي (.+)/.test(input)){
      const match = input.match(/(عرف|انشئ|سوي) متغير (.+) يساوي (.+)/);
      return document.getElementById("output").innerText = generate("variable", lang, match[2].trim(), match[3].trim());
    }

    if(/(كرر|لف|حلقة)\s+(\d+)\s+مرات/.test(input)){
      const times = input.match(/(\d+)/)[0];
      return document.getElementById("output").innerText = generate("for", lang, times);
    }

    return document.getElementById("output").innerText = "// الأمر غير معروف أو غير مدعوم الآن";
  }

  // HTML
  if(mode === "html"){
    if(input.includes("عنوان")){
      return document.getElementById("output").innerText =
`<!DOCTYPE html>
<html>
<head><title>صفحة</title></head>
<body>
  <h1>عنوان</h1>
</body>
</html>`;
    }
  }

  // CSS
  if(mode === "css"){
    if(input.includes("خلفية") || input.includes("background")){
      return document.getElementById("output").innerText =
`body {
  background: #0b1020;
  color: #fff;
}`;
    }
  }

  // DOM
  if(mode === "dom"){
    if(input.includes("زر") && input.includes("اضغط") && input.includes("يغير")){
      return document.getElementById("output").innerText =
`<button id="btn">اضغط</button>
<p id="text">نص</p>

<script>
  document.getElementById('btn').addEventListener('click', () => {
    document.getElementById('text').innerText = 'تم التغيير';
  });
</script>`;
    }
  }

  // API
  if(mode === "api"){
    if(input.includes("اطلب") || input.includes("استدعاء")){
      const url = input.match(/https?:\/\/\S+/)[0];
      return document.getElementById("output").innerText =
`fetch("${url}")
  .then(res => res.json())
  .then(data => console.log(data));`;
    }
  }

  // SQL
  if(mode === "sql"){
    if(input.includes("جدول") && input.includes("انشئ")){
      const table = input.match(/جدول\s+(\w+)/)[1];
      return document.getElementById("output").innerText =
`CREATE TABLE ${table} (
  id INT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(255)
);`;
    }
  }

  document.getElementById("output").innerText = "// لا يوجد تحويل لهذا الأمر";
}

function generate(type, lang, a, b){
  if(type === "print"){
    if(lang === "js") return `console.log(${a});`;
    if(lang === "python") return `print(${a})`;
    if(lang === "php") return `<?php\necho ${a};\n?>`;
    if(lang === "java") return `System.out.println(${a});`;
    if(lang === "csharp") return `Console.WriteLine(${a});`;
    if(lang === "cpp") return `std::cout << ${a} << std::endl;`;
    if(lang === "ruby") return `puts ${a}`;
    if(lang === "go") return `fmt.Println(${a})`;
  }

  if(type === "variable"){
    if(lang === "js") return `let ${a} = ${b};`;
    if(lang === "python") return `${a} = ${b}`;
    if(lang === "php") return `<?php\n$${a} = ${b};\n?>`;
    if(lang === "java") return `int ${a} = ${b};`;
    if(lang === "csharp") return `int ${a} = ${b};`;
    if(lang === "cpp") return `int ${a} = ${b};`;
    if(lang === "ruby") return `${a} = ${b}`;
    if(lang === "go") return `var ${a} = ${b}`;
  }

  if(type === "for"){
    if(lang === "js") return `for (let i = 0; i < ${a}; i++) {\n  console.log(i);\n}`;
    if(lang === "python") return `for i in range(${a}):\n  print(i)`;
    if(lang === "php") return `<?php\nfor ($i = 0; $i < ${a}; $i++) {\n  echo $i . "\\n";\n}\n?>`;
    if(lang === "java") return `for (int i = 0; i < ${a}; i++) {\n  System.out.println(i);\n}`;
    if(lang === "csharp") return `for (int i = 0; i < ${a}; i++) {\n  Console.WriteLine(i);\n}`;
    if(lang === "cpp") return `for (int i = 0; i < ${a}; i++) {\n  std::cout << i << std::endl;\n}`;
    if(lang === "ruby") return `(${a}).times do |i|\n  puts i\nend`;
    if(lang === "go") return `for i := 0; i < ${a}; i++ {\n  fmt.Println(i)\n}`;
  }
}
</script>

</body>
    </html>
